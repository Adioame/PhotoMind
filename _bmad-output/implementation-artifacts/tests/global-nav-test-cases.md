# 全局导航栏测试用例

> **测试范围**: PhotoMind 全局顶部导航栏 (GlobalNav.vue)
> **创建日期**: 2026-02-06
> **测试类型**: 功能测试、UI测试、回归测试

---

## 测试环境

| 环境 | 要求 |
|------|------|
| 浏览器 | Chrome 120+, Safari 17+, Firefox 120+ |
| 视口宽度 | 1920px, 1024px, 768px, 375px |
| 主题 | 浅色模式、深色模式 |

---

## TC-001: 导航栏显示测试

**优先级**: P0
**前置条件**: 应用启动完成

### TC-001-01: 导航栏可见性

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 打开应用主页 | 顶部显示全局导航栏 |
| 2 | 导航栏高度测量 | 高度为 56px (±2px) |
| 3 | 导航栏位置 | 固定在页面顶部 |

### TC-001-02: Logo 和品牌显示

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 查看导航栏左侧 | 显示 PhotoMind Logo 图标 |
| 2 | 查看 Logo 文字 | 显示 "PhotoMind" 品牌名称 |
| 3 | 点击 Logo | 跳转到首页 (/) |

---

## TC-002: 导航项测试

**优先级**: P0
**前置条件**: 导航栏正常显示

### TC-002-01: 导航项数量和标签

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 统计导航项 | 显示 6 个主导航项 |
| 2 | 验证标签 | 首页、照片、相册、时间线、人物、搜索 |

### TC-002-02: 导航项路由映射

| 导航项 | 目标路由 | 预期行为 |
|--------|----------|----------|
| 首页 | `/` | 跳转到首页 |
| 照片 | `/photos` | 跳转到照片列表 |
| 相册 | `/albums` | 跳转到相册页面 |
| 时间线 | `/timeline` | 跳转到时间线页面 |
| 人物 | `/people` | 跳转到人物页面 |
| 搜索 | `/search` | 跳转到搜索页面 |

### TC-002-03: 导航项激活状态

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 访问 `/` | "首页" 项高亮显示 |
| 2 | 访问 `/photos` | "照片" 项高亮显示 |
| 3 | 访问 `/albums` | "相册" 项高亮显示 |
| 4 | 访问 `/timeline` | "时间线" 项高亮显示 |
| 5 | 访问 `/people` | "人物" 项高亮显示 |
| 6 | 访问 `/search` | "搜索" 项高亮显示 |

### TC-002-04: 路由匹配精确性

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 访问 `/photo/123` | "照片" 导航项**不应**高亮 |
| 2 | 从 `/photos` 导航到 `/photo/123` | 只有照片详情页内容变化，导航栏保持照片页激活状态 |

---

## TC-003: 快捷操作按钮测试

**优先级**: P1
**前置条件**: 导航栏正常显示

### TC-003-01: 导入按钮

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 找到导入按钮 | 显示 + 图标 |
| 2 | 点击导入按钮 | 触发 `open-import-dialog` 事件 |

### TC-003-02: 设置按钮

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 找到设置按钮 | 显示齿轮图标 |
| 2 | 点击设置按钮 | 跳转到 `/settings` |

---

## TC-004: 暗色主题适配测试

**优先级**: P0
**前置条件**: 照片详情页存在

### TC-004-01: 主题切换

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 访问 `/photo/123` | 导航栏背景变为深色 (#2a2a2a) |
| 2 | 访问 `/` | 导航栏背景恢复浅色 (#ffffff) |
| 3 | 访问 `/photos` | 导航栏背景为浅色 |

### TC-004-02: 暗色主题颜色规范

| 属性 | 预期值 |
|------|--------|
| 背景色 | `rgba(42, 42, 42, 0.95)` |
| 边框色 | `#404040` |
| 激活文字色 | `#8B9EFF` |
| 图标颜色 | `#8B9EFF` |

---

## TC-005: 响应式设计测试

**优先级**: P1
**前置条件**: 使用不同视口宽度测试

### TC-005-01: 桌面端 (≥1024px)

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 视口宽度 1920px | 显示完整导航项 + 标签 |
| 2 | 视口宽度 1200px | 显示完整导航项 + 标签 |
| 3 | 视口宽度 1024px | 显示图标，隐藏标签文字 |

### TC-005-02: 平板端 (768px - 1024px)

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 视口宽度 900px | 只显示图标 |
| 2 | 导航项间距 | 间距合理，不拥挤 |

### TC-005-03: 移动端 (<768px)

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 视口宽度 375px | 只显示图标 |
| 2 | 导航项尺寸 | 至少 44x44px (可点击区域) |
| 3 | Logo 区域 | 只显示图标，隐藏文字 |

---

## TC-006: 交互效果测试

**优先级**: P2
**前置条件**: 导航栏正常显示

### TC-006-01: 悬停效果

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 鼠标悬停导航项 | 背景变为悬停色 |
| 2 | 鼠标移出导航项 | 背景恢复透明 |
| 3 | 悬停时长 | 效果无延迟，立即响应 |

### TC-006-02: 点击效果

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 按下导航项 | 有轻微缩放效果 |
| 2 | 释放导航项 | 缩放效果恢复 |

### TC-006-03: 过渡动画

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 路由切换 | 背景色平滑过渡 |
| 2 | 主题切换 | 无闪烁 |

---

## TC-007: 页面布局测试

**优先级**: P1
**前置条件**: 所有视图页面

### TC-007-01: 内容区域偏移

| 页面 | 预期 padding-top |
|------|-----------------|
| 首页 | 80px (56px + 24px) |
| 照片 | 80px |
| 相册 | 80px |
| 时间线 | 80px |
| 人物 | 80px |
| 搜索 | 80px |
| 设置 | 80px |

### TC-007-02: 滚动行为

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 滚动页面 | 导航栏固定不随页面滚动 |
| 2 | 页面内容 | 在导航栏下方正确显示 |

---

## TC-008: 回归测试

**优先级**: P0
**前置条件**: 现有功能不受影响

### TC-008-01: 现有页面功能

| 页面 | 测试项 | 预期结果 |
|------|--------|----------|
| 首页 | 快捷入口卡片 | 正常工作 |
| 首页 | 最近照片网格 | 正常工作 |
| 照片 | 照片网格/列表切换 | 正常工作 |
| 照片 | 刷新按钮 | 正常工作 |
| 相册 | 智能相册显示 | 正常工作 |
| 相册 | 创建相册功能 | 正常工作 |
| 时间线 | 年份选择器 | 正常工作 |
| 时间线 | 月份分组显示 | 正常工作 |
| 搜索 | 搜索功能 | 正常工作 |
| 搜索 | 搜索结果展示 | 正常工作 |
| 人物 | 人物列表 | 正常工作 |
| 人物 | 人物详情 | 正常工作 |
| 设置 | 设置项保存 | 正常工作 |

### TC-008-02: 页面过渡动画

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 页面间切换 | 保持 fade 过渡效果 |
| 2 | 过渡时长 | 约 200ms |

### TC-008-03: 模态框层级

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 打开设置对话框 | 导航栏在对话框下方 (z-index 验证) |
| 2 | 打开导入对话框 | 导航栏在对话框下方 |

---

## 测试用例执行清单

### 执行前检查

- [ ] 测试环境已准备
- [ ] 测试数据已加载
- [ ] 截图工具已就绪

### 执行步骤

1. **P0 测试优先执行**
   - TC-001, TC-002, TC-004
2. **P1 测试其次执行**
   - TC-003, TC-005, TC-007
3. **P2 测试最后执行**
   - TC-006, TC-008

### 通过标准

- [ ] 所有 P0 测试通过
- [ ] 所有 P1 测试通过
- [ ] 无阻塞性 bug
- [ ] 用户验收测试通过

---

## 自动化测试建议

```typescript
// Vitest 测试示例
describe('GlobalNav', () => {
  it('should display 6 navigation items', () => {
    // 测试导航项数量
  })

  it('should highlight active route', () => {
    // 测试激活状态
  })

  it('should switch to dark theme on photo detail page', () => {
    // 测试暗色主题
  })

  it('should hide labels on small screens', () => {
    // 测试响应式
  })
})
```

---

> **测试负责人**: Quinn (QA Engineer)
> **最后更新**: 2026-02-06
