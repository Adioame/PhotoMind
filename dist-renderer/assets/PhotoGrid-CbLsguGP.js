import{d as k,u as v,c as o,v as C,j as S,e as c,w as r,x as $,F as z,l as B,s as b,f as i,o as t,h as x,a as l,t as d,k as D}from"./index-b2OWAZnp.js";import{I as N,_ as P}from"./_plugin-vue_export-helper-DZzl9uFm.js";const w={key:1,class:"empty-state"},F=["onClick"],I={class:"photo-overlay"},V={class:"photo-info"},j={class:"photo-date"},G={key:0,class:"photo-location"},M=k({__name:"PhotoGrid",props:{photos:{},loading:{type:Boolean},columns:{}},emits:["photo-click"],setup(n){const m=n;v();const p=b(()=>({gridTemplateColumns:`repeat(${m.columns||4}, 1fr)`})),_=s=>{if(!s)return"";const a=new Date(s);return`${a.getFullYear()}.${String(a.getMonth()+1).padStart(2,"0")}.${String(a.getDate()).padStart(2,"0")}`};return(s,a)=>{const u=i("n-spin"),g=i("n-icon"),h=i("n-empty"),f=i("n-image");return t(),o("div",{class:C(["photo-grid",{loading:n.loading}])},[n.loading?(t(),S(u,{key:0,size:"large",class:"loading-spinner"})):n.photos.length===0?(t(),o("div",w,[c(h,{description:"暂无照片"},{icon:r(()=>[c(g,{size:"64",color:"#ccc"},{default:r(()=>[c(x(N))]),_:1})]),_:1})])):(t(),o("div",{key:2,class:"grid-container",style:$(p.value)},[(t(!0),o(z,null,B(n.photos,(e,y)=>(t(),o("div",{key:e.id||e.uuid||y,class:"photo-item",onClick:A=>s.$emit("photo-click",e)},[c(f,{src:e.thumbnailPath||e.thumbnail_url,alt:e.fileName,"object-fit":"cover",lazy:"",class:"photo-image"},null,8,["src","alt"]),l("div",I,[l("div",V,[l("span",j,d(_(e.takenAt)),1),e.location?.name?(t(),o("span",G,d(e.location.name),1)):D("",!0)])])],8,F))),128))],4))],2)}}}),R=P(M,[["__scopeId","data-v-de17febc"]]);export{R as P};
